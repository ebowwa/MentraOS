# Optimize for size on mobile
[profile.release]
lto = true
opt-level = "z"
strip = true
rpath = true


[target.aarch64-apple-ios]
rustflags = [
  "-C", "link-arg=-framework", 
  "-C", "link-arg=Foundation"
]

[target.aarch64-apple-ios-sim]
rustflags = [
  "-C", "link-arg=-isysroot",
  "-C", "link-arg=/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk",
  "-C", "link-arg=-framework", 
  "-C", "link-arg=Foundation"
]